%---------------------------------------------------------------------------%
%->> Frontmatter
%---------------------------------------------------------------------------%
%-
%-> 生成封面
%-

\maketitle% 生成中文封面
\MAKETITLE% 生成英文封面
%-
%-> 作者声明
%-
\makedeclaration% 生成声明页
%-
%-> 中文摘要
%-
\intobmk\chapter*{摘\quad 要}% 显示在书签但不显示在目录
\setcounter{page}{1}% 开始页码
\pagenumbering{Roman}% 页码符号

% 背景 -> 调度是核心解决方式
% 混部场景挑战
% 解决挑战的方式
% 最终效果

混合部署技术（以下简称“混部技术”）是当前数据中心提升资源利用率的主要途径，但也带来了混部应用服务质量（QoS）劣化的问题。云厂商通常与用户协定服务级别目标（SLO）来提供应用QoS的保证，应用QoS劣化不仅会产生SLO的违约赔偿，还会引发用户的流失。实现混部场景下应用QoS保障是云厂商的核心需求，常见的混部场景QoS保障的措施包含QoS劣化监测、资源隔离与任务调度。其中任务调度由于在速度与精度上的优势，是解决单点混部场景QoS保障问题的核心。

混部场景下的任务调度存在三大挑战，（1）混部场景软硬件环境复杂，调度不仅需要满足应用的不同需求，如延迟、吞吐量，还需要需要适应硬件的不同特性，如SMT、NUMA。（2）混部场景中应用负载动态变化，如服务型应用的负载随时间波动，调度需要及时感知并进行调整。（3）服务器资源丰富，能够同时运行大量应用，这些应用构成多样的混部场景，而单一的任务调度难以适配所有场景。

为解决上述挑战，本文（1）针对云场景中的7种典型应用展开画像分析，设计实现了一套面向虚拟机的多维度指标监测系统，分析应用资源使用倾向、敏感度上的差异。（2）从调度子系统配置与内核任务调度定制两方面展开混部场景导向的任务调度研究。在调度子系统配置上，本文设计响应度优先与吞吐量优先配置，分别实现混部应用99分位尾延迟降低最高39.2\%与执行速度提升最高165.2\%的效果。在内核调度策略定制上，本文设计塔台（Control Tower）内核任务调度框架，用于针对混部场景定制内核任务调度策略来保障应用的QoS，并实现CPU感知与网络感知调度策略。其中CPU感知调度策略实现混部应用99分位尾延迟降低最高90.4\%的效果，并在超线程场景下仍有最高71.2\%的效果。（3）设计实现受控空域（Control Zone），一种面向混部场景的调度动态可定制沙箱。Control Zone基于KVM虚拟化技术实现，提供了一种在单台物理机上多种调度机制共存的方案，并支持混部应用与Control Tower内核调度器的协同部署。同时，Control Tower支持在运行时切换调度策略来适应混部场景软硬件环境的变化。在性能上，Control Zone采用轻量化虚拟机监视器与精简内核，沙箱启动耗时在370ms内，即使存在虚拟化开销，仍实现部分应用99分位尾延时降低最高38.5\%的效果。

\keywords{数据中心，混合部署，内核调度，eBPF，服务质量}% 中文关键词
%-
%-> 英文摘要
%-
\intobmk\chapter*{Abstract}% 显示在书签但不显示在目录


Co-Location technology (hereinafter referred to as "Co-Location") is the primary approach for enhancing resource utilization in current data centers. However, it also brings about the issue of degraded Quality of Service (QoS) for applications in hybrid deployments. Cloud providers typically agree on Service Level Objective (SLO) targets with users to ensure QoS for applications. Degradation in application QoS not only results in breach of SLO and potential compensation but also leads to user churn. Ensuring application QoS in hybrid deployment scenarios is a core requirement for cloud providers. Common measures for QoS assurance in hybrid deployment scenarios include QoS degradation monitoring, resource isolation, and task scheduling. Among these, task scheduling, due to its advantages in speed and accuracy, is central to addressing QoS assurance issues in single-point hybrid deployment scenarios.

There are three major challenges in task scheduling in hybrid deployment scenarios. Firstly, the complexity of the software and hardware environment in hybrid deployment scenarios requires scheduling to meet not only the diverse requirements of applications, such as latency and throughput, but also adapt to different hardware characteristics, such as SMT and NUMA. Secondly, application workloads in hybrid deployment scenarios are dynamically changing, with fluctuations in load over time, requiring timely perception and adjustment by scheduling. Thirdly, with abundant server resources capable of simultaneously running a large number of applications, these applications constitute diverse hybrid deployment scenarios, making it difficult for a single task scheduler to adapt to all scenarios.

To address the above challenges, this paper (1) conducts a profile analysis of seven typical applications in cloud scenarios and designs and implements a multi-dimensional indicator monitoring system for virtual machines to analyze differences in application resource usage tendencies and sensitivities. (2) Conducts research on hybrid deployment-oriented task scheduling from two aspects: scheduling subsystem configuration and customized kernel task scheduling. In terms of scheduling subsystem configuration, this paper designs responsiveness-priority and throughput-priority configurations, achieving effects of reducing 99th percentile tail latency of hybrid applications by up to 39.2\% and improving execution speed by up to 165.2\%. In terms of customizing kernel scheduling strategies, this paper designs the Control Tower kernel task scheduling framework for hybrid deployment scenarios to ensure application QoS, implementing CPU-aware and network-aware scheduling strategies. The CPU-aware scheduling strategy achieves a maximum reduction of 99th percentile tail latency for hybrid applications by up to 90.4\%, with a maximum effect of 71.2\% even in hyper-threading scenarios. (3) Designs and implements Control Zone, a dynamic customizable scheduling sandbox for hybrid deployment scenarios. Control Zone, based on KVM virtualization technology, provides a solution for multiple scheduling mechanisms to coexist on a single physical machine and supports the co-deployment of hybrid applications and Control Tower kernel schedulers. Meanwhile, Control Tower supports runtime switching of scheduling strategies to adapt to changes in hybrid deployment scenario software and hardware environments. In terms of performance, Control Zone adopts lightweight virtual machine monitors and slim kernels, with sandbox startup times within 370ms, achieving a maximum reduction of 99th percentile tail latency for some applications by up to 38.5\%, despite the presence of virtualization overhead.


\KEYWORDS{Data center, Co-Location, Kernel Scheduling, eBPF, Quality of Service}% 英文关键词

\pagestyle{enfrontmatterstyle}%
\cleardoublepage\pagestyle{frontmatterstyle}%

%---------------------------------------------------------------------------%
